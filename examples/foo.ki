extern putchar func[i32, i32];

def foo i32 = convert(1u);

def fac func[i32, i32] = fn(x i32) i32 {
  var acc u32 = 1u;
  var ux u32 = convert(x);
  label top;
  if (convert(ux)) {
    acc = acc * ux;
    ux = ux - 1u;
    goto top;
  }
  return convert(acc);
};

def showfacs func[i32] = fn() i32 {
  var x i32 = convert(4u);
  putchar(fac(x) + fac(4) + fac(4));
  putchar(fac(5));
  return 1;
};
