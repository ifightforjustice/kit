extern malloc fn[size, *void];
extern free fn[*void, void];
extern abort fn[void];

func check(x bool) void {
  if x { abort(); }
}

func[T] max(x T, y T) T {
  if (x < y) {
    return y;
  } else {
    return x;
  }
}

func[S, T] cast(p *S) *T {
  var u union { p *S; q *T; };
  u.p = p;
  return u.q;
}

func[S, T] up(s S) T {
  var ret T;
  ret.~ = s;
  return ret;
}
