deftype size u32;

extern malloc func[size, *void];
extern free func[*void, void];

def[S, T] cast func[*S, *T] = fn(p *S) *T {
  var u union { p *S; q *T; };
  u.p = p;
  return u.q;
};

def[S, T] up func[S, T] = fn(s S) T {
  var ret T;
  ret.~ = s;
  return ret;
};
