extern putchar fn[i32, i32];
extern flushstdout fn[i32];

def print = func(x u32) u32 {
  var printed u32 = 0;
  if (x == 0) {
    putchar(48);
    return 1;
  } else {
    var acc u32 = 0;
    var count u32 = 0;
    while (x > 0) {
      acc = acc * 10 + x % 10;
      x = x / 10;
      count = count + 1;
    }
    while (printed < count) {
      var ch i32 = ~(48 | (acc % 10));
      putchar(ch);
      acc = acc / 10;
      printed = printed + 1;
    }
    return printed;
  }
};
