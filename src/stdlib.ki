deftype size u32;

extern malloc fn[size, *void];
extern free fn[*void, void];

func[S, T] cast(p *S) *T {
  var u union { p *S; q *T; };
  u.p = p;
  return u.q;
};

func[S, T] up(s S) T {
  var ret T;
  ret.~ = s;
  return ret;
};
